# Voice Control Server - Production Environment Configuration
# ===============================================

# Server Configuration
ENVIRONMENT=production
HOST=0.0.0.0
PORT=8000
DEBUG=false
LOG_LEVEL=INFO
WORKERS=4

# Security Configuration
SECRET_KEY=your-super-secure-production-secret-key-change-this-in-production
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
CORS_ORIGINS=["https://yourdomain.com"]
RATE_LIMIT_PER_MINUTE=100

# CORS Configuration
CORS_ALLOW_ORIGINS=["https://yourdomain.com", "https://app.yourdomain.com"]
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=["GET", "POST", "PUT", "DELETE", "OPTIONS"]
CORS_ALLOW_HEADERS=["*"]

# Database Configuration
DATABASE_URL=postgresql://voicecontrol:your-secure-db-password@postgres:5432/voice_control
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20

# Redis Configuration (for session storage)
REDIS_URL=redis://redis:6379/0
REDIS_PASSWORD=your-secure-redis-password

# WebSocket Configuration
WEBSOCKET_MAX_CONNECTIONS=100
WEBSOCKET_PING_INTERVAL=30
WEBSOCKET_CLOSE_TIMEOUT=60
WEBSOCKET_MAX_MESSAGE_SIZE=10485760

# STT Configuration
WHISPER_MODEL=large-v3
WHISPER_DEVICE=cuda  # Use cuda if GPU available, otherwise cpu
WHISPER_COMPUTE_TYPE=float16
STT_CONFIDENCE_THRESHOLD=0.8
STT_LANGUAGE=en
STT_TIMEOUT=30

# LLM Configuration
OLLAMA_BASE_URL=http://ollama:11434
OLLAMA_MODEL=llama2:70b  # Use larger model in production
LLM_MAX_TOKENS=512
LLM_TEMPERATURE=0.7
LLM_TIMEOUT=60
LLM_SYSTEM_PROMPT="You are a helpful voice assistant that can control computer systems safely. Always confirm potentially dangerous operations."

# Audio Configuration
AUDIO_SAMPLE_RATE=16000
AUDIO_CHANNELS=1
AUDIO_BIT_DEPTH=16
AUDIO_CHUNK_SIZE=2048
AUDIO_BUFFER_SIZE=4096
AUDIO_MAX_DURATION=30

# MCP Configuration
MCP_TIMEOUT=30
MCP_MAX_CONCURRENT_REQUESTS=5
MCP_SERVER_TIMEOUT=10

# Logging Configuration
LOG_FILE_PATH=storage/logs/production.log
LOG_MAX_SIZE=100MB
LOG_BACKUP_COUNT=10
LOG_FORMAT=json
AUDIT_LOG_FILE=storage/logs/audit.log

# Performance Configuration
MAX_MEMORY_USAGE=8192  # MB
MAX_CPU_USAGE=80  # Percentage
AUTO_SCALING_ENABLED=true
HEALTH_CHECK_INTERVAL=30

# Monitoring Configuration
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=8001
GRAFANA_ENABLED=true
GRAFANA_PORT=3000
METRICS_RETENTION_DAYS=30

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_INTERVAL=24  # hours
BACKUP_RETENTION_DAYS=30
BACKUP_STORAGE_PATH=/backups
S3_BACKUP_ENABLED=false
S3_BUCKET_NAME=voice-control-backups

# Notification Configuration
EMAIL_ENABLED=true
EMAIL_SMTP_HOST=smtp.yourdomain.com
EMAIL_SMTP_PORT=587
EMAIL_USERNAME=notifications@yourdomain.com
EMAIL_PASSWORD=your-secure-email-password
EMAIL_FROM=Voice Control System <notifications@yourdomain.com>

# Feature Flags
FEATURE_VOICE_COMMANDS=true
FEATURE_SYSTEM_CONTROL=true
FEATURE_BROWSER_AUTOMATION=true
FEATURE_FILE_OPERATIONS=true
FEATURE_TEXT_TO_SPEECH=false  # Disable for now
FEATURE_MULTILANGUAGE=false  # Enable as needed

# Security Features
ENABLE_RATE_LIMITING=true
ENABLE_API_KEY_AUTH=false  # Set to true if using API keys
ENABLE_JWT_AUTH=true
ENABLE_CORS=true
ENABLE_HTTPS_REDIRECT=true

# Container Configuration
CONTAINER_MEMORY_LIMIT=4G
CONTAINER_CPU_LIMIT=4
CONTAINER_RESTART_POLICY=unless-stopped

# Health Check Configuration
HEALTH_CHECK_TIMEOUT=30
HEALTH_CHECK_RETRIES=3
HEALTH_CHECK_INTERVAL=60
HEALTH_CHECK_START_PERIOD=120

# Cache Configuration
CACHE_ENABLED=true
CACHE_TTL=3600  # seconds
CACHE_MAX_SIZE=1000

# Session Configuration
SESSION_TIMEOUT=1800  # 30 minutes
SESSION_CLEANUP_INTERVAL=300  # 5 minutes
