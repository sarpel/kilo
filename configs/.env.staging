# Voice Control Server - Staging Environment Configuration
# ===============================================

# Server Configuration
ENVIRONMENT=staging
HOST=0.0.0.0
PORT=8000
DEBUG=false
LOG_LEVEL=INFO
WORKERS=2

# Security Configuration
SECRET_KEY=staging-secret-key-change-for-production
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=60
CORS_ORIGINS=["https://staging.yourdomain.com"]

# CORS Configuration
CORS_ALLOW_ORIGINS=["https://staging.yourdomain.com", "https://staging-app.yourdomain.com"]
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=["GET", "POST", "PUT", "DELETE", "OPTIONS"]
CORS_ALLOW_HEADERS=["*"]

# Database Configuration
DATABASE_URL=postgresql://voicecontrol:staging-db-password@postgres:5432/voice_control_staging
DB_POOL_SIZE=5
DB_MAX_OVERFLOW=10

# Redis Configuration (for session storage)
REDIS_URL=redis://redis:6379/0
REDIS_PASSWORD=staging-redis-password

# WebSocket Configuration
WEBSOCKET_MAX_CONNECTIONS=50
WEBSOCKET_PING_INTERVAL=30
WEBSOCKET_CLOSE_TIMEOUT=60
WEBSOCKET_MAX_MESSAGE_SIZE=5242880

# STT Configuration
WHISPER_MODEL=medium
WHISPER_DEVICE=cpu  # CPU for staging
WHISPER_COMPUTE_TYPE=float16
STT_CONFIDENCE_THRESHOLD=0.75
STT_LANGUAGE=en
STT_TIMEOUT=25

# LLM Configuration
OLLAMA_BASE_URL=http://ollama:11434
OLLAMA_MODEL=llama2:13b  # Medium-sized model for staging
LLM_MAX_TOKENS=400
LLM_TEMPERATURE=0.7
LLM_TIMEOUT=45
LLM_SYSTEM_PROMPT="You are a helpful voice assistant for staging environment testing."

# Audio Configuration
AUDIO_SAMPLE_RATE=16000
AUDIO_CHANNELS=1
AUDIO_BIT_DEPTH=16
AUDIO_CHUNK_SIZE=2048
AUDIO_BUFFER_SIZE=4096
AUDIO_MAX_DURATION=20

# MCP Configuration
MCP_TIMEOUT=20
MCP_MAX_CONCURRENT_REQUESTS=3
MCP_SERVER_TIMEOUT=8

# Logging Configuration
LOG_FILE_PATH=storage/logs/staging.log
LOG_MAX_SIZE=50MB
LOG_BACKUP_COUNT=7
LOG_FORMAT=json
AUDIT_LOG_FILE=storage/logs/audit_staging.log

# Performance Configuration
MAX_MEMORY_USAGE=4096  # MB
MAX_CPU_USAGE=70  # Percentage
AUTO_SCALING_ENABLED=false  # Disabled for staging

# Monitoring Configuration
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=8001
GRAFANA_ENABLED=true
GRAFANA_PORT=3000
METRICS_RETENTION_DAYS=14

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_INTERVAL=12  # Every 12 hours
BACKUP_RETENTION_DAYS=14
BACKUP_STORAGE_PATH=/backups
S3_BACKUP_ENABLED=false  # Configure as needed

# Notification Configuration
EMAIL_ENABLED=true
EMAIL_SMTP_HOST=smtp.staging.yourdomain.com
EMAIL_SMTP_PORT=587
EMAIL_USERNAME=staging-notifications@yourdomain.com
EMAIL_PASSWORD=your-staging-email-password
EMAIL_FROM=Voice Control Staging <staging-notifications@yourdomain.com>

# Feature Flags (Production-like but some features for testing)
FEATURE_VOICE_COMMANDS=true
FEATURE_SYSTEM_CONTROL=true
FEATURE_BROWSER_AUTOMATION=true
FEATURE_FILE_OPERATIONS=true
FEATURE_TEXT_TO_SPEECH=true
FEATURE_MULTILANGUAGE=true

# Security Features (Production-like with testing accommodations)
ENABLE_RATE_LIMITING=true
ENABLE_API_KEY_AUTH=false
ENABLE_JWT_AUTH=true
ENABLE_CORS=true
ENABLE_HTTPS_REDIRECT=true

# Container Configuration (Medium resources for staging)
CONTAINER_MEMORY_LIMIT=3G
CONTAINER_CPU_LIMIT=3
CONTAINER_RESTART_POLICY=unless-stopped

# Health Check Configuration
HEALTH_CHECK_TIMEOUT=20
HEALTH_CHECK_RETRIES=3
HEALTH_CHECK_INTERVAL=45
HEALTH_CHECK_START_PERIOD=90

# Cache Configuration
CACHE_ENABLED=true
CACHE_TTL=1800  # 30 minutes
CACHE_MAX_SIZE=500

# Session Configuration
SESSION_TIMEOUT=2400  # 40 minutes
SESSION_CLEANUP_INTERVAL=180  # 3 minutes

# Testing Features (Enabled for staging testing)
TESTING_MODE=true
LOAD_TESTING_ENABLED=true
PERFORMANCE_MONITORING=true
ERROR_REPORTING_ENABLED=true
USER_ANALYTICS_ENABLED=false  # Privacy consideration in staging
